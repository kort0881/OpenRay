# Recommended Clash Meta configuration for Iran - anti-DNS hijack, fake-ip, auto rule-providers, robust region rules

mixed-port: 7892
allow-lan: true
bind-address: '*'
mode: rule
log-level: info
ipv6: false

external-controller: 0.0.0.0:9090
external-ui: ui
external-ui-url: 
  https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip
secret: ''

# Performance Settings
unified-delay: false
tcp-concurrent: true
find-process-mode: strict

# Profile Settings
profile:
  store-selected: true
  store-fake-ip: true

# TUN Configuration for Iran
tun:
  enable: true
  stack: system
  auto-route: true
  auto-redirect: true
  auto-detect-interface: true
  dns-hijack:
  - any:53
  - tcp://any:53
  device: utun0
  mtu: 9000
  strict-route: true
  gso: true
  gso-max-size: 65536

dns:
  enable: true
  listen: 0.0.0.0:1053
  ipv6: false
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter-mode: blacklist
  fake-ip-filter:
  - '*.lan'
  - '*.local'
  - '*.ir'
  - +.aparat.com
  - +.rubika.ir
  - +.digikala.com
  - +.eitaa.com
  - +.telewebion.ir
  - +.snapp.ir
  - +.shad.ir
  - +.zarinpal.com
  - +.parsian.com
  - +.mellat.ir
  - +.bmi.ir
  - +.postbank.ir
  - +.shetab.ir
  - +.sep.ir
  - +.irna.ir
  - +.isna.ir
  use-hosts: true
  use-system-hosts: false
  respect-rules: true
  default-nameserver:
  - tls://1.1.1.1:853
  - tls://9.9.9.9:853
  nameserver:
  - https://cloudflare-dns.com/dns-query
  - https://dns.google/dns-query
  - https://9.9.9.9/dns-query
  proxy-server-nameserver:
  - https://cloudflare-dns.com/dns-query
  - 1.1.1.1

proxies:
- name: OpenRay  FR-535
  type: vless
  server: 95.164.6.156
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-544
  type: vless
  server: 195.42.233.115
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  US-1425
  type: vless
  server: 103.35.189.137
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  US-1436
  type: vless
  server: 103.35.189.250
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  US-1442
  type: vless
  server: 103.35.189.146
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-571
  type: vless
  server: 195.42.233.127
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-572
  type: vless
  server: 195.42.233.139
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-574
  type: vless
  server: 185.234.64.101
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-601
  type: vless
  server: 195.42.233.89
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-602
  type: vless
  server: 194.4.49.40
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-645
  type: vless
  server: 185.242.87.155
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-669
  type: vless
  server: 86.104.74.177
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-670
  type: vless
  server: 185.242.87.155
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-672
  type: vless
  server: 185.231.205.101
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-675
  type: vless
  server: 185.234.64.143
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-682
  type: vless
  server: 194.4.49.16
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-687
  type: vless
  server: 195.42.233.139
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-688
  type: vless
  server: 195.42.233.27
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-692
  type: vless
  server: 195.42.233.95
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-696
  type: vless
  server: 185.242.87.72
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  MY-28
  type: vless
  server: 45.89.107.242
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  GB-83
  type: vless
  server: 45.89.111.80
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  US-1453
  type: vless
  server: 103.35.189.250
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-712
  type: vless
  server: 185.242.87.119
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-721
  type: vless
  server: 185.242.87.161
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-730
  type: vless
  server: 185.242.87.241
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-734
  type: vless
  server: 194.4.49.40
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-744
  type: vless
  server: 195.42.233.91
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-746
  type: vless
  server: 185.242.87.241
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-749
  type: vless
  server: 185.242.87.72
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  US-1498
  type: vmess
  server: 43.162.114.137
  port: 59674
  uuid: 6a4ce5b9-0d60-4a21-a8fe-897798019500
  alterId: 0
  cipher: auto
  network: tcp
- name: OpenRay  US-1503
  type: vmess
  server: 205.185.116.20
  port: 8080
  uuid: ff130210-4636-5caf-8259-09058c55bae8
  alterId: 0
  cipher: auto
  network: tcp
- name: OpenRay  US-1506
  type: vmess
  server: 43.162.114.137
  port: 59674
  uuid: 6a4ce5b9-0d60-4a21-a8fe-897798019500
  alterId: 0
  cipher: auto
  network: none
- name: OpenRay  US-1513
  type: vless
  server: 88.218.93.159
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-764
  type: vless
  server: 195.42.233.89
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-765
  type: vless
  server: 185.242.87.155
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-767
  type: vless
  server: 194.4.49.219
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-773
  type: vless
  server: 195.42.233.27
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-779
  type: vless
  server: 185.242.87.155
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-788
  type: vless
  server: 185.234.64.149
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-810
  type: vless
  server: 95.164.6.156
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-811
  type: vless
  server: 185.234.64.105
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-814
  type: vless
  server: 185.231.205.165
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-823
  type: vless
  server: 195.42.233.5
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  ES-46
  type: vless
  server: 45.12.150.97
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  GB-105
  type: vless
  server: 146.19.230.249
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  US-1542
  type: vless
  server: 185.236.232.119
  port: 80
  uuid: 401374e6-df77-41fb-f638-dad8184f175b
  network: grpc
- name: OpenRay  US-1543
  type: vless
  server: 185.236.232.119
  port: 80
  uuid: 401374e6-df77-41fb-f638-dad8184f175b
  network: grpc
- name: OpenRay  US-1544
  type: vless
  server: 185.236.232.119
  port: 80
  uuid: 401374e6-df77-41fb-f638-dad8184f175b
  network: grpc
- name: OpenRay  US-1546
  type: vless
  server: 185.236.232.101
  port: 80
  uuid: 401374e6-df77-41fb-f638-dad8184f175b
  network: grpc
- name: OpenRay  US-1547
  type: vless
  server: 185.236.232.82
  port: 80
  uuid: 401374e6-df77-41fb-f638-dad8184f175b
  network: grpc
- name: OpenRay  FR-826
  type: vless
  server: 195.42.233.112
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-827
  type: vless
  server: 185.242.87.169
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-828
  type: vless
  server: 195.42.233.126
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-835
  type: vless
  server: 86.104.74.177
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-841
  type: vless
  server: 185.231.205.149
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  NL-89
  type: vless
  server: 45.120.178.93
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  DE-91
  type: vmess
  server: 45.13.226.116
  port: 12449
  uuid: b1053a67-88b9-4550-b5fb-826735adc045
  alterId: 0
  cipher: auto
  network: tcp
- name: OpenRay  PL-12
  type: vmess
  server: 176.223.131.167
  port: 57085
  uuid: 6b08c8df-f228-47a1-bb36-2d5ffe019a54
  alterId: 0
  cipher: auto
  network: none
- name: OpenRay  PL-21
  type: vmess
  server: 176.223.131.167
  port: 52433
  uuid: 8c62b22b-4e25-4019-b4dd-f02e26eac9f0
  alterId: 0
  cipher: auto
  network: none
- name: OpenRay  US-1572
  type: vmess
  server: 43.162.114.137
  port: 59674
  uuid: 6a4ce5b9-0d60-4a21-a8fe-897798019500
  alterId: 0
  cipher: auto
  network: tcp
- name: OpenRay  US-1573
  type: vless
  server: 104.17.147.22
  port: 8080
  uuid: Parsashonam-Bot-33
  network: ws
  ws-opts:
    path: 
      /Parsashonam-Parsashonam-Parsashonam-Parsashonam-Parsashonam-Parsashonam-Parsashonam-Parsashonam-Parsashonam-Parsashonam-Parsashonam-Parsashonam-Parsashonam-Parsashonam-Parsashonam-Parsashonam?ed=2056
    headers:
      Host: Fi.Parsashonam.CfD.
- name: OpenRay  US-1574
  type: vless
  server: 185.236.232.205
  port: 80
  uuid: 401374e6-df77-41fb-f638-dad8184f175b
  network: grpc
- name: OpenRay  US-1575
  type: vless
  server: 185.236.232.118
  port: 80
  uuid: 401374e6-df77-41fb-f638-dad8184f175b
  network: grpc
- name: OpenRay  FR-844
  type: vless
  server: 195.42.233.71
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-846
  type: vless
  server: 95.164.6.79
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-855
  type: vless
  server: 195.42.233.127
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-857
  type: vless
  server: 185.242.87.98
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-859
  type: vless
  server: 185.231.205.202
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  FR-860
  type: vless
  server: 95.164.6.65
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  DE-97
  type: vless
  server: 45.13.226.22
  port: 2095
  uuid: 360ab6ba-7c33-4cd7-add1-9698b9f9205c
  network: tcp
- name: OpenRay  GB-113
  type: vless
  server: 94.131.122.221
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  GB-115
  type: vless
  server: 45.89.111.80
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  GB-116
  type: vless
  server: 185.138.164.5
  port: 8880
  uuid: df0680ca-e43c-498d-ed86-8e196eedd012
  network: grpc
- name: OpenRay  PL-28
  type: vless
  server: www.rexo.online
  port: 8880
  uuid: 6f1eebdf-4cb5-40c4-96e5-bf8b5d0a79ba
  network: grpc
- name: OpenRay Dynamic-1559
  type: vless
  server: www.wappalyzer.com
  port: 2095
  uuid: 97bbba9f-918e-42a5-8f74-5c70785215df
  network: ws
  ws-opts:
    path: 
      /@XpnTeam/@XpnTeam/@XpnTeam/@XpnTeam/@XpnTeam/@XpnTeam/@XpnTeam/@XpnTeam/@XpnTeam/@XpnTeam/@XpnTeam/@XpnTeam/@XpnTeam/@XpnTeam/@XpnTeam/@XpnTeam?ed=2048
    headers:
      Host: test3.amin8263.ir

proxy-groups:
- name: AUTO
  type: url-test
  url: https://www.gstatic.com/generate_204
  interval: 300
  tolerance: 50
  proxies:
  - OpenRay  FR-535
  - OpenRay  FR-544
  - OpenRay  US-1425
  - OpenRay  US-1436
  - OpenRay  US-1442
  - OpenRay  FR-571
  - OpenRay  FR-572
  - OpenRay  FR-574
  - OpenRay  FR-601
  - OpenRay  FR-602
  - OpenRay  FR-645
  - OpenRay  FR-669
  - OpenRay  FR-670
  - OpenRay  FR-672
  - OpenRay  FR-675
  - OpenRay  FR-682
  - OpenRay  FR-687
  - OpenRay  FR-688
  - OpenRay  FR-692
  - OpenRay  FR-696
  - OpenRay  MY-28
  - OpenRay  GB-83
  - OpenRay  US-1453
  - OpenRay  FR-712
  - OpenRay  FR-721
  - OpenRay  FR-730
  - OpenRay  FR-734
  - OpenRay  FR-744
  - OpenRay  FR-746
  - OpenRay  FR-749
  - OpenRay  US-1498
  - OpenRay  US-1503
  - OpenRay  US-1506
  - OpenRay  US-1513
  - OpenRay  FR-764
  - OpenRay  FR-765
  - OpenRay  FR-767
  - OpenRay  FR-773
  - OpenRay  FR-779
  - OpenRay  FR-788
  - OpenRay  FR-810
  - OpenRay  FR-811
  - OpenRay  FR-814
  - OpenRay  FR-823
  - OpenRay  ES-46
  - OpenRay  GB-105
  - OpenRay  US-1542
  - OpenRay  US-1543
  - OpenRay  US-1544
  - OpenRay  US-1546
  - OpenRay  US-1547
  - OpenRay  FR-826
  - OpenRay  FR-827
  - OpenRay  FR-828
  - OpenRay  FR-835
  - OpenRay  FR-841
  - OpenRay  NL-89
  - OpenRay  DE-91
  - OpenRay  PL-12
  - OpenRay  PL-21
  - OpenRay  US-1572
  - OpenRay  US-1573
  - OpenRay  US-1574
  - OpenRay  US-1575
  - OpenRay  FR-844
  - OpenRay  FR-846
  - OpenRay  FR-855
  - OpenRay  FR-857
  - OpenRay  FR-859
  - OpenRay  FR-860
  - OpenRay  DE-97
  - OpenRay  GB-113
  - OpenRay  GB-115
  - OpenRay  GB-116
  - OpenRay  PL-28
  - OpenRay Dynamic-1559
- name: PROXY
  type: select
  proxies:
  - AUTO
  - OpenRay  FR-535
  - OpenRay  FR-544
  - OpenRay  US-1425
  - OpenRay  US-1436
  - OpenRay  US-1442
  - OpenRay  FR-571
  - OpenRay  FR-572
  - OpenRay  FR-574
  - OpenRay  FR-601
  - OpenRay  FR-602
  - OpenRay  FR-645
  - OpenRay  FR-669
  - OpenRay  FR-670
  - OpenRay  FR-672
  - OpenRay  FR-675
  - OpenRay  FR-682
  - OpenRay  FR-687
  - OpenRay  FR-688
  - OpenRay  FR-692
  - OpenRay  FR-696
  - OpenRay  MY-28
  - OpenRay  GB-83
  - OpenRay  US-1453
  - OpenRay  FR-712
  - OpenRay  FR-721
  - OpenRay  FR-730
  - OpenRay  FR-734
  - OpenRay  FR-744
  - OpenRay  FR-746
  - OpenRay  FR-749
  - OpenRay  US-1498
  - OpenRay  US-1503
  - OpenRay  US-1506
  - OpenRay  US-1513
  - OpenRay  FR-764
  - OpenRay  FR-765
  - OpenRay  FR-767
  - OpenRay  FR-773
  - OpenRay  FR-779
  - OpenRay  FR-788
  - OpenRay  FR-810
  - OpenRay  FR-811
  - OpenRay  FR-814
  - OpenRay  FR-823
  - OpenRay  ES-46
  - OpenRay  GB-105
  - OpenRay  US-1542
  - OpenRay  US-1543
  - OpenRay  US-1544
  - OpenRay  US-1546
  - OpenRay  US-1547
  - OpenRay  FR-826
  - OpenRay  FR-827
  - OpenRay  FR-828
  - OpenRay  FR-835
  - OpenRay  FR-841
  - OpenRay  NL-89
  - OpenRay  DE-91
  - OpenRay  PL-12
  - OpenRay  PL-21
  - OpenRay  US-1572
  - OpenRay  US-1573
  - OpenRay  US-1574
  - OpenRay  US-1575
  - OpenRay  FR-844
  - OpenRay  FR-846
  - OpenRay  FR-855
  - OpenRay  FR-857
  - OpenRay  FR-859
  - OpenRay  FR-860
  - OpenRay  DE-97
  - OpenRay  GB-113
  - OpenRay  GB-115
  - OpenRay  GB-116
  - OpenRay  PL-28
  - OpenRay Dynamic-1559
rules:
- DOMAIN-SUFFIX,ir,DIRECT
- DOMAIN-SUFFIX,aparat.com,DIRECT
- DOMAIN-SUFFIX,digikala.com,DIRECT
- DOMAIN-SUFFIX,divar.ir,DIRECT
- DOMAIN-SUFFIX,eitaa.com,DIRECT
- DOMAIN-SUFFIX,rubika.ir,DIRECT
- DOMAIN-SUFFIX,snapp.ir,DIRECT
- DOMAIN-SUFFIX,zarinpal.com,DIRECT
- DOMAIN-SUFFIX,parsian.com,DIRECT
- DOMAIN-SUFFIX,mellat.ir,DIRECT
- DOMAIN-SUFFIX,bmi.ir,DIRECT
- DOMAIN-SUFFIX,postbank.ir,DIRECT
- DOMAIN-SUFFIX,shetab.ir,DIRECT
- DOMAIN-SUFFIX,sep.ir,DIRECT
- DOMAIN-SUFFIX,irna.ir,DIRECT
- DOMAIN-SUFFIX,isna.ir,DIRECT
- GEOSITE,GOOGLE,PROXY
- GEOSITE,YOUTUBE,PROXY
- GEOSITE,FACEBOOK,PROXY
- GEOSITE,INSTAGRAM,PROXY
- GEOSITE,TWITTER,PROXY
- GEOSITE,TELEGRAM,PROXY
- GEOSITE,GITHUB,PROXY
- GEOSITE,CLOUDFLARE,PROXY
- GEOSITE,NETFLIX,PROXY
- GEOSITE,SPOTIFY,PROXY
- GEOSITE,CATEGORY-ADS-ALL,REJECT
- GEOSITE,GEOLOCATION-!CN,PROXY
- GEOIP,PRIVATE,DIRECT
- MATCH,PROXY
hosts:
  dns.google: [8.8.8.8, 8.8.4.4]
  cloudflare-dns.com: [1.1.1.1, 1.0.0.1]
  1dot1dot1dot1.cloudflare-dns.com: [1.1.1.1, 1.0.0.1]
  www.google.com: [142.250.191.36]
  youtube.com: [142.250.191.14]
  www.youtube.com: [142.250.191.14]
  facebook.com: [157.240.11.35]
  www.facebook.com: [157.240.11.35]
  twitter.com: [104.244.42.193]
  www.twitter.com: [104.244.42.193]
  x.com: [104.244.42.193]
